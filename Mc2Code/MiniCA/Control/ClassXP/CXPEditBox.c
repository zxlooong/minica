


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 预处理
#include "CXPBase.h"
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 绘制编辑框
VOID CXPDrawEditBox(PCCLASSXP pCxp)
{
	UINT x;
	HDC hDC;
	RECT rtRect;

	// 开始绘制
	_CXPBeginDraw(hDC, FALSE, TRUE);

	// 绘制外框
	_FrameRect(_CXPGetState(CXPS_DISABLED) ? CXPR_DFRAME : CXPR_FRAME);
	InflateRect(&rtRect, -1, -1);

	// 绘制旋转控件边线
	if (pCxp->lParam)
	{
		PCLASSXP p = ((PCLASSXP) pCxp->lParam);
		if (p->lState | (CXPS_LEFTSPIN | CXPS_RIGHTSPIN))
		{
			x = (p->lState & CXPS_LEFTSPIN) ? 0 : rtRect.right;
			_DrawLine(x, rtRect.top, x, rtRect.bottom, CXPR_WINDOW);
		}
	}

	//绘制内框
	_FrameRect(_CXPGetState(CXPS_DISABLED | CXPS_READONLY) ? CXPR_DWINDOW : CXPR_WINDOW);

	// 结束绘制
	_CXPEndDraw(hDC);
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
